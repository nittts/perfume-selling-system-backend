generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("PLANETSCALE_DATABASE_URL")
  relationMode = "prisma"
}

model categories {
  id   String @unique(map: "id") @db.Char(36)
  name String @unique(map: "name") @db.VarChar(128)
}

model history {
  id               String    @unique(map: "id") @db.Char(36)
  order_id         String    @db.VarChar(36)
  client_id        String    @db.VarChar(36)
  sell_date        DateTime? @default(now()) @db.Timestamp(0)
  total_sale_price Float     @db.Float
  not_fully_payed  Boolean
  promotion_order  Boolean
  sale_payed       Float     @db.Float
}

model orders {
  order_id   String @id @db.VarChar(36)
  product_id String @db.VarChar(36)
  quantity   Int

  @@index([product_id], map: "produc_id_idx")
}

model products {
  id                  String   @id @db.Char(36)
  name                String   @unique(map: "name") @db.VarChar(128)
  resell_value        Float    @db.Float
  buying_value        Float    @db.Float
  category            String   @db.Char(36)
  resseler_product_id String   @db.VarChar(128)
  reseller_id         String?  @db.Char(36)
  discount            Boolean?
  discount_ammount    Int?

  @@index([reseller_id], map: "reseller_id_idx")
}

model resellers {
  id   String @id @db.Char(36)
  name String @db.VarChar(128)
}
